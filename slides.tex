\documentclass[aspectratio=1610]{beamer}
\usetheme{KTH}
\input{preamble.tex}

\newcommand{\kthaffil}{\textsuperscript{\textdagger}}
\newcommand{\cmuaffil}{\textsuperscript{\textdaggerdbl}}

\begin{document}
\startpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
    \begin{raggedright}
        {\bfseries\LARGE EdgeDroid:}\\\emph{An Experimental Approach to Benchmarking Human-in-the-Loop Applications}\\
        \vspace{0.06\textheight}
        {%
            \footnotesize%
            \underline{\bfseries M. Olguín Muñoz}\kthaffil, J. Wang\cmuaffil, M. Satyanarayanan\cmuaffil and J. Gross\kthaffil\\
            \vspace{0.02\textheight}
            \kthaffil~KTH Royal Institute of Technology, Sweden\\
            \cmuaffil~Carnegie Mellon University\\
        }
        \vspace{0.06\textheight}
        \begin{tiny}
            \emph{Spring 2019 OEC Workshop. May 9--10, Carnegie Mellon University, Pittsburgh, PA.}\\
        \end{tiny}
    \end{raggedright}
    \note{
        \begin{itemize}
            \item Name all authors
            \item Mention Sweden 
        \end{itemize}   
    }
\end{frame}

\normalpage%
\section{Introduction}
\begin{frame}{}
    \begin{center}
        \input{figs/humanintheloop_intro.tex}\\
    \end{center}
    \note{
        \begin{itemize}
            \item Exciting new applications which integrate with the real world and the users.
            \item Put the human in a feedback loop.
            \item High dimensional, context-aware inputs.
            \item High dimensional, human-parseable outputs.
        \end{itemize}
    }
\end{frame}

\begin{frame}{Studying Human-in-the-Loop Applications}
    Need to understand and optimize these applications:% and the underlying infrastructure:
    \begin{itemize}
        \item How do they interact with each other?
        \item How do they interact with infrastructure?
        \item How do they scale?
              %\item KPI: Delays, Round-Trip Times (RTTs).
    \end{itemize}%
    \vspace{1em}%
    \begin{center}
        {\Large With which methodology can we study these behaviors?}\\
        \vspace{2em}%
        \input{figs/humanintheloop_study.tex}\\
        \Large\bfseries\color{red}\onslide<3->{Costly}\onslide<4->{, poor repeatability\\}
        %\onslide<5->{Require IRB approval!\\}
    \end{center}
    \note{
        \begin{itemize}
            \item Apps are starting to proliferate.
            \item They are interesting for developers, users, training, live assistance, etc.
            \item We still don't know much.
        \end{itemize}
    }
\end{frame}

\subsection{Background}
\begin{frame}{Previous \& Related Work}
    \begin{center}
        \input{figs/relatedwork.tex}\\
    \end{center}
\end{frame}

\begin{frame}{Our Contributions}

    \begin{itemize}
        \itemsep3em
        \item A methodology for benchmarking human-in-the-loop applications.
              \onslide<2->{\item EdgeDroid: A synthetic workload generator for Human-in-the-Loop applications on Edge infrastructure.}
              \onslide<3->{\item Experiments and measurements which show the effectiveness of the approach.}
    \end{itemize}

\end{frame}

\section{Approach}
\begin{frame}{Benchmarking\ldots~what?}
    Key question:
    \begin{block}{In what way is system performance reflected in terms of user experience?}
        \vspace{1em}
        \onslide<2>{{\Large Answer: Time}
        \begin{itemize}
            \item Latency
            \item Jitter
        \end{itemize}}
    \end{block}

    \onslide<2>{%
    \begin{block}{Human time-perception is tail-driven\dots}
        Users tend to remember worst-case occurrences rather than averages.\\
        \vspace{2em}
        {\Large KPIs: Delays (total RTT and segment-wise)}        
    \end{block}%
    } 
\end{frame}

\begin{frame}{Approach}
    \begin{center}
        \input{figs/approach1.tex}\\%
        \vspace{.1\textheight}%
        \only<1>{%
            Benchmarking human-in-the-loop applications is HARD\\%
        }%
        \only<2->{What if we could do away with the human users?\\}%
        \onslide<3->{\bfseries\color{red}Repeatable, but is it scalable?\\}%
        %\onslide<4->{\vspace{.05\textheight}Key question: Credibility.\\}
    \end{center}
    \note{
        \begin{itemize}
            \item Hard because of humans.
            \item Trace-based approach with a ``user model'' which modulates the replay of the trace.
            \item I will explain ``user model'' in the next slides using an example.
        \end{itemize}
    }
\end{frame}

\begin{frame}{Example: Task Guidance Wearable Cognitive Assitance, LEGO\ \autocite{Ha:TowardsWearableCogAssist}}
    \begin{center}
        \input{figs/taskguidance.tex}\\
        %\vspace{.2\textheight}%
        %\input{figs/pipeline.tex}\\%
    \end{center}
    \note{
        \begin{itemize}
            \item Running example.
            \item Explain LEGO step by step. Captures video and gives feedback instructions.
            \item Don't say it was created at CMU.
            \item Usable simple example for initial implementation because of Linear model.
        \end{itemize}
    }
\end{frame}

\begin{frame}{Tracing}
    \begin{center}
        \input{figs/tracing.tex}\\
        \vspace{.1\textheight}%
        \input{figs/trace.tex}\\
    \end{center}
    \note{
        \begin{itemize}
            \item First step in our approach is tracing.
            \item Trace raw inputs.
            \item Example: LEGO -> video frames.
        \end{itemize}
    }
\end{frame}

\begin{frame}{Trace Replay}
    \onslide<1->{\begin{block}{Non-trivial Challenge}
            \begin{itemize}
                \item Changes in system responsiveness require adapting trace.
                \item System delays affect user behavior as well.
            \end{itemize}
        \end{block}}
    \onslide<2->{\begin{block}{Our Approach}
            \begin{itemize}
                \item Segment trace into logical ``steps''.
                \item Controlled replay of steps.
                      %\item Future work: model of user behavior.
            \end{itemize}
        \end{block}
        \begin{center}
            \input{figs/replay.tex}\\
        \end{center}}
    \note{
        \begin{itemize}
            \item Merely replaying trace is not enough.
            \item What happens if the responsiveness of the system changes?
            \item Need a way to adapt the trace to system conditions.
        \end{itemize}
    }
\end{frame}

\begin{frame}{Approach}
    \begin{center}
        \input{figs/approach2.tex}\\%
        \vspace{.1\textheight}%
        {\bfseries\color{red}Repeatable, scalable!\\}%
    \end{center}
\end{frame}

\subsection{Implementation: EdgeDroid}
\begin{frame}{Implementation: EdgeDroid}
    \begin{center}
        \input{figs/architecture.tex}\\
        \vspace{.1\textheight}
        \Large\icontag{\faGithub}{\urlref{https://github.com/molguin92/EdgeDroid}}
    \end{center}
    \note{
        \begin{itemize}
            \item Very short about implementation.
            \item Remind that we don't emulate backend or network.
        \end{itemize}
    }
\end{frame}

\begin{frame}{Timestamping}
    \begin{columns}[onlytextwidth]
        \begin{column}{.5\linewidth}
            \footnotesize%
            \raggedright%
            \input{figs/timestamping.tex}
        \end{column}%
        \begin{column}{.5\linewidth}
            Clocks are synchronized previous to the experiment.

            \vspace{\baselineskip}%
            Timestamps at key points to obtain:

            \begin{align}
                {\Delta}T_\text{up}   & = t'_{r} - t_{s}  \\
                {\Delta}T_\text{proc} & = t'_{s} - t'_{r} \\
                {\Delta}T_\text{down} & = t_{r} - t'_{s}
            \end{align}
        \end{column}%
    \end{columns}
    %\vspace{\baselineskip}%
    \begin{align}
        {\Delta}T_\text{total} & = {\Delta}T_\text{up} + {\Delta}T_\text{proc} + {\Delta}T_\text{down} = t_{r} - t_{s}
    \end{align}
\end{frame}

\section{Evaluation}
\begin{frame}{Evaluation}
    \begin{center}
        \Large%
        \textbf{Key purpose:}\\
        Demonstrate utility of EdgeDroid.\\
    \end{center}
\end{frame}

\begin{frame}{Evaluation: Setup}
    \begin{columns}[onlytextwidth]
        \begin{column}{.5\linewidth}
            \begin{block}{Application \& Scenarios}
                \begin{center}
                    \includegraphics[width=.7\linewidth]{img/lego/img3.jpeg}

                    LEGO Assistant
                \end{center}
                \begin{itemize}
                    \item Three \emph{optimal} scenarios with 1, 5 and 10 devices.
                    \item Weakened wireless link with 10 devices.
                    %\item KPI: Round-Trip Time (RTT).
                \end{itemize}
            \end{block}%
        \end{column}%
        \begin{column}{.5\linewidth}
            \raggedleft%
            \begin{tikzpicture}[grow'=right, font=\footnotesize]
                \tikzset{level distance=6em, sibling distance=1em}
                \tikzset{every tree node/.style={anchor=center}}
                \Tree [.\node[] {\includegraphics[width=.1\linewidth]{img/symbols/tower}};
                \edge[] node[above, sloped] {Ethernet}; [.\node[] {\includegraphics[width=.1\linewidth]{img/symbols/router}};
                \edge[dashed]; \node[] {\includegraphics[width=.1\linewidth]{img/symbols/cellphone}};
                \edge[dashed]; \node[] {\includegraphics[width=.1\linewidth]{img/symbols/cellphone}};
                \edge[color=white] node[midway, color=black, inner sep=0mm] {WiFi}; \node[inner sep=0mm] {};
                \edge[dashed]; \node[] {\includegraphics[width=.1\linewidth]{img/symbols/cellphone}};
                \edge[dashed]; \node[] {\includegraphics[width=.1\linewidth]{img/symbols/cellphone}};
                ] ];
            \end{tikzpicture}
        \end{column}%
    \end{columns}
    \note{
        \begin{itemize}
            \item Use example of app developer and system designer to exemplify results.
        \end{itemize}
    }
\end{frame}

\begin{frame}{Use Cases}
    \begin{center}
        \input{figs/usecases.tex}\\
    \end{center}
    \note{
        \begin{itemize}
            \item Use example of app developer and system designer to exemplify results.
            \item Important aspect is that these results are repeatable and automatically obtained.
            \item Did not have to train 10 users.
        \end{itemize}
    }
\end{frame}

\section{Future Work}
\begin{frame}{Future Work}
    \begin{itemize}
        \item Extending EdgeDroid
        \begin{itemize}
            \item Characterizing human behavior
            \item Extending to other types of applications
        \end{itemize}
        \item Characterizing Control Performance on Edge Computing Infrastructure
    \end{itemize}
\end{frame}

\subsection{Characterizing human behavior}
\begin{frame}{Characterizing human behavior\ldots}
    \begin{block}{\ldots~in the presence of delays in human-in-the-loop applications.}
        Open research question: how do these delays affect users?
    \end{block}
    \begin{center}
        \input{figs/delays_users.tex}
    \end{center}
\end{frame}

\begin{frame}{Proposed Experiment Setup}
    \begin{center}
        \input{figs/user_experiment.tex}
    \end{center}
\end{frame}

\subsection{Control Performance on Edge Computing}
\begin{frame}{Control Performance on Edge Computing}
    \begin{block}{EdgeDroid for Control Applications}
        Main focus: study achievable latencies and reliability with off-the-shelf infrastructure.

        Similar to the NCSBench platform developed at TUM\footnote{\urlref{https://github.com/tum-lkn/NCSbench/}}\autocite{ncsbench}.
    \end{block}

    \vspace{2em}
    \begin{center}
        \input{figs/edgedroid_control.tex}
    \end{center}

\end{frame}

\section{Conclusions}
\begin{frame}{Conclusions}
    \begin{block}{Summary}
        \begin{itemize}
            \item Need to study the scaling of Human-in-the-Loop applications.
                  \begin{itemize}
                      \item Difficult due to human users.
                  \end{itemize}
            \item Methodology + tool suite for benchmarking:
                  \begin{itemize}
                      \item \textbf{EdgeDroid}
                      \item Trace based.
                      \item Model of human behavior.
                  \end{itemize}
            \item Results which show the utility of EdgeDroid.
        \end{itemize}
    \end{block}

    \begin{block}{Future Work}
        \begin{itemize}
            \item Extending EdgeDroid
            \begin{itemize}
                \item Characterizing human behavior
                \item Extending to other types of applications
            \end{itemize}
            \item Characterizing Control Performance on Edge Computing Infrastructure
        \end{itemize}
    \end{block}

    \note{
        \begin{itemize}
            \item Talk about future model of human behavior.
            \item Expand to other types of applications that are not task-based.
        \end{itemize}
    }
\end{frame}

\begin{frame}
    \begin{block}{Acknowledgements}
        Part of an ongoing collaboration with the Elijah Group at Carnegie Mellon University, led by Prof. Mahadev Satyanarayanan.\\
        \vspace{3em}
        \begin{center}
            \includegraphics[width=.7\linewidth]{img/cmu_csd.png}\\
        \end{center}
        \vspace{3em}
        This work was recently presented at HotMobile'19~\autocite{Olguin:EdgeDroid2019}.
    \end{block}
\end{frame}

% \startpage
% \begin{frame}{}
%     \begin{center}
%         \textbf{\Large Thank you.}\\
%         \vspace{.1\textheight}%
%         \begin{block}{\footnotesize Contact}
%             \tiny%
%             \textbf{Manuel Olguín Muñoz}\\
%             Division of Information Science and Engineering\\
%             KTH EECS\\
%             Malvinas väg 10, 100-44 Stockholm, SWEDEN\\
%             \vspace{.01\textheight}
%             Email: \emailref{molguin@kth.se}\\
%             Website: \urlref{https://olguin.se}\\
%         \end{block}
%     \end{center}
%     \vspace{.1\textheight}%
% \end{frame}

\startpage
\section{Extra Slides}
\begin{frame}{}
    \begin{center}
        \Large Extra Slides
    \end{center}
\end{frame}

\normalpage
\begin{frame}{Requirements}
    \begin{columns}[onlytextwidth]
        \begin{column}{.5\linewidth}
            $\left.
                \begin{tabular}{p{.8\linewidth}}
                    \begin{itemize}
                        \itemsep2em
                        \item Generate realistic, high-dimensional, real-time inputs.
                        \item Correctly and realistically react to feedback.
                        \item KPI: Delays.
                    \end{itemize}
                \end{tabular}%
                \right\}$
        \end{column}%
        \begin{column}{.5\linewidth}
            \centering%
            \Large\bfseries%
            Trace of pre-recorded inputs\\
            \& a model of user behavior\\
        \end{column}
    \end{columns}
\end{frame}

\begin{frame}{User Model}
    \begin{center}
        \input{figs/usermodel.tex}\\
        \vspace{.1\textheight}%
        Future work: more elaborate models.
    \end{center}
\end{frame}

\begin{frame}[allowframebreaks, t]{References}
    \nocite{*}
    \printbibliography%
\end{frame}

\end{document}