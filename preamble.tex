\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[format=hang]{caption}
\usepackage{subcaption}
\captionsetup{font=normalsize,labelfont={bf,sf}}
\captionsetup[sub]{font={small}, textfont={normalfont}, labelfont={bf,sf}}
\usepackage{pgfplots}
\pgfplotsset{compat=1.14}
\usepackage[export]{adjustbox}
\usepackage{amsmath}

% sequence diagrams
\usepackage{pgf-umlsd}

\usepackage{tikz}
\usepackage{tikz-qtree}
\usepackage{tikzpeople}
\usetikzlibrary{shapes,arrows.meta,arrows,positioning,automata,matrix,shapes.symbols,shapes.misc,fit,intersections,pgfplots.fillbetween}

\usepackage{libertine}
\usepackage{sourcecodepro}
\usepackage{fontawesome}

\usepackage{todonotes}
\usepackage{wrapfig}
\usepackage[binary-units]{siunitx}
\sisetup{
    detect-all,
    detect-inline-family=math,
    detect-inline-weight=math,
    detect-display-math=true
}
\DeclareSIUnit{\belmilliwatt}{Bm}
\DeclareSIUnit{\dBm}{\deci\belmilliwatt}

%\usepackage[hidelinks]{hyperref}

\newcommand{\emailref}[1]{\href{mailto:#1}{\texttt{#1}}}
\newcommand{\telref}[1]{\href{tel:#1}{\texttt{#1}}}
\newcommand{\urlref}[1]{\href{#1}{\texttt{#1}}}

\usepackage[style=ieee,
    backend=bibtex,
    sorting=none,
    sortcites,
    maxbibnames=1,
    minbibnames=1,
    maxcitenames=2,
    mincitenames=1]{biblatex}
\AtBeginBibliography{\footnotesize}
\addbibresource{bibliography.bib}


\newcommand{\icontag}[2]{
    #1~#2\\
}

%% TOC before each section

\AtBeginSection[]
{
   \begin{frame}<beamer>
       \frametitle{Outline}
       \setcounter{tocdepth}{2}%
       \bfseries%
       \tableofcontents[currentsection,hideothersubsections]
   \end{frame}
}

\newenvironment{ssframe}[1]{%
   \subsection{#1}
   \begin{frame}{#1}
}{%
   \end{frame}
}%

% \AtEndDocument%
% {
%     \startpage
%     \begin{frame}
%         \begin{center}
%             \begin{Large}
%                 \textbf{Thank you!}\\
%             \end{Large}
%             \vspace{.1\textheight}
%             \begin{footnotesize}
%                 \icontag{\faAt}{\href{mailto:molguin@kth.se}{\texttt{molguin@kth.se}}}
%                 \icontag{\faTwitter}{\href{https://twitter.com/molguin92}{\texttt{@molguin92}}}
%                 \icontag{\faGithub}{\href{https://github.com/molguin92}{\texttt{molguin92}}}
%             \end{footnotesize}
%         \end{center}

%     \end{frame}
%     \normalpage
% }

% extend pgf-umlsd
%% extension for pgf-umlsd v0.5 2009/09/30, which TeXLive comes along
%% source: https://github.com/lyarbean/Tex-stuff

%% \sidelabel{thread}{side}{label}
%% side: left right above below
\newcommand{\sidelabel}[3]{
    \stepcounter{seqlevel}
    \path
    (#1)+(0.1,-\theseqlevel*\unitfactor-0.7*\unitfactor) node (messbeg) {};
    \draw (messbeg) node[#2] {#3};
}

%% mostly used between altblocks
%% \separateline[line style]{from}{to}
\newcommand{\separateline}[3][dotted, color=black, very thick]{
    \stepcounter{seqlevel}
    \path
    (#2)+(.1,-\theseqlevel*\unitfactor-.8*\unitfactor) node (from) {}
    (#3)+(-.1,-\theseqlevel*\unitfactor-.8*\unitfactor) node (to) {};
    \draw[#1] (from) -- (to);
}

%% \begin{altblock}{from}{condition}{to}
%% %%calls here
%% \end{altblock}
\newenvironment{altblock}[3]{
    \stepcounter{seqlevel}
    \path
    (#1)+(.1,-\theseqlevel*\unitfactor-\unitfactor) node (from) {}
    (#3)+(-.1,-\theseqlevel*\unitfactor-\unitfactor) node (to) {};
    \draw (from) node[above right] {[#2]};
}{}

%%
%\newcommand{\postlevel}{\addtocounter{seqlevel}{+1}}

%% \newthread[thread distance]{color fill style}{left}{right}
% \renewcommand{\newthread}[4][1]{
%     \newinst[#1]{#3}{#4}
%     \stepcounter{threadnum}
%     \node[below of=inst\theinstnum,node distance=1em] (thread\thethreadnum) {};
%     \tikzstyle{threadcolor\thethreadnum}=[fill=#2]
%     \tikzstyle{instcolor#3}=[fill=#2]
% }

